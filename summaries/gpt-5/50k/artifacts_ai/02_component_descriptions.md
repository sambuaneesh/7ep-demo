| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Web/API Layer (Servlet Controllers) | Expose HTTP endpoints, validate inputs, dispatch to business layer, render JSP views | HTTP: POST /login, POST /register, POST /registerbook, POST /registerborrower, POST /lend, GET /book, GET /borrower, GET /listavailable, POST /math, POST /fibonacci, POST /ackermann, GET /flyway | Authentication, Library, Mathematics, Admin/DB Management, ServletUtils, Helpers, JSP Views | Java Servlets (@WebServlet), JSP (result.jsp/restfulresult.jsp), SLF4J/Log4j2, MVC-lite |
| Authentication (Business) | User registration and login; password quality assessment and hashing; result formatting | LoginUtils.isUserRegistered(username, password); RegistrationUtils.processRegistration(username, password), isPasswordGood(password), searchForUserByName | IPersistenceLayer, Helpers (CheckUtils, StringUtils), Domain (User, RegistrationResult, PasswordResult), Web/API Layer | Java, nbvcxz password entropy, SHA-256 (unsalted), Optional, Null Object pattern |
| Library (Business) | Manage books/borrowers; lending rules; list/search/delete operations | LibraryUtils.registerBook(title), registerBorrower(name), lendBook(title, borrower, date), deleteBook(book), deleteBorrower(borrower), searchForBookByTitle/id, searchForBorrowerByName/id, listAllBooks(), listAvailableBooks(), listAllBorrowers() | IPersistenceLayer, Helpers (CheckUtils), Domain (Book, Borrower, Loan, LibraryActionResults), Web/API Layer | Java, Optional, Null Object pattern, Input validation |
| Mathematics (Business + Algorithms) | Arithmetic, Fibonacci (multiple algorithms), Ackermann (recursive/tail) | Calculator.add(a,b); Fibonacci.calculate(n); FibonacciIterative.fibAlgo1/fibAlgo2; Ackermann.calculate(m,n); AckermannIterative.calculate(m,n); TailRecursive utilities | Web/API Layer, Helpers (TailRecursive) | Java, BigInteger, Tail recursion/trampolining, Algorithm variants |
| Expenses | Allocate dinner costs between food and alcohol (stub/partial) | AlcoholCalculator.calculate(DinnerPrices) -> AlcoholResult | None (isolated) | Java (simple calc), Plain POJOs (result/value objects) |
| Cartesian Product | Compute combinations across input sets (used in BDD; stubbed) | CartesianProduct.calculate(sets) | None (isolated) | Java utilities |
| Persistence Abstraction (IPersistenceLayer) | Contract for all DB access across domains; admin utilities | Auth: saveNewUser, updateUserWithPassword, searchForUserByName, areCredentialsValid; Library: saveNewBook/saveNewBorrower/createLoan, searchByTitle/Id/Name, listAllBooks/listAvailableBooks/listAllBorrowers, deleteBook/deleteBorrower, searchForLoanByBook/Borrower; Admin: runBackup, runRestore, cleanDatabase, migrateDatabase, cleanAndMigrateDatabase, isEmpty | Domain (User, Book, Borrower, Loan), Business modules | Java interface, Optional types, JDBC types (PreparedStatement parameters), Date |
| PersistenceLayer (JDBC/H2 + Micro-ORM) | Implements IPersistenceLayer via H2/JDBC; schema management; micro-ORM helpers; password hashing storage | Implements all IPersistenceLayer methods; Utilities: runQuery, executeUpdateTemplate, executeInsertTemplate; Micro-ORM: SqlData<R>, ParameterObject<T>; DataSource initialization | IPersistenceLayer, Domain models, Helpers (exceptions), Flyway | H2 (in-memory by default), JDBC, Flyway, PreparedStatements, Micro-ORM pattern, SHA-256 hashing |
| Domain Model (Auth/Library) | Immutable POJOs and enums; JSON-fragment output; null-object idiom | User, Book, Borrower, Loan; Results: RegistrationResult, PasswordResult; Enums: RegistrationStatusEnums, PasswordResultEnums, LibraryActionResults; Common: createEmpty(), isEmpty(), toOutputString() | Used by Business and Persistence | Java immutability, equals/hashCode, Optional, Null Object pattern, Simple JSON string building |
| Helpers/Utilities | Cross-cutting helpers for validation, string ops, servlet forwarding, assertions | CheckUtils.* (argument/state checks), StringUtils.escapeForJson/makeNotNullable, ServletUtils.forwardToResult/constants, AssertionException | Web/API Layer, Business modules, Persistence | Utility classes, SLF4J/Log4j2, Servlet API |
| Tomcat Integration (WebAppListener) | Initialize/reset DB schema at app startup | ServletContextListener.contextInitialized -> IPersistenceLayer.cleanAndMigrateDatabase() | IPersistenceLayer, Servlet API | @WebListener, Flyway, H2 |
| Admin/DB Management | Operational DB actions over HTTP (dev/test); backup/restore via persistence for tests | GET /flyway?action=clean|migrate|[empty]; Persistence admin methods: cleanDatabase, migrateDatabase, cleanAndMigrateDatabase, runBackup, runRestore | PersistenceLayer/IPersistenceLayer, JSP (result.jsp) | Java Servlets, Flyway, H2 |
| Web UI (Static + JSP) | User-facing pages and JS to invoke endpoints; simple rendering of results | Pages: index.html, library.html, endpointcatalog.html, dbhelp.html; JS: catalog.js (XHR), library.js (talk(), extractData, dynamic lending UI); JSP: result.jsp, restfulresult.jsp | Web/API Layer endpoints | HTML/CSS/JS, JSP, XHR (XMLHttpRequest), Simple client-side rendering |
| H2 Console (Dev Tool) | Embedded DB console for inspection during dev/test | GET /console/*; JDBC URL: jdbc:h2:mem:training;MODE=PostgreSQL;DB_CLOSE_DELAY=-1 | Web app container, H2 | H2 Web Console, Servlet mapping |
| Desktop Auto Insurance Demo (desktop_app) | Separate Swing app demonstrating rules; socket-based UI automation; JaCoCo remote dump | AutoInsuranceProcessor.process(age, claims) -> AutoInsuranceAction; Automation TCP (port 8000): set/get/click/quit; ExecutionDataClient (JaCoCo) | None (separate app); Test clients | Java Swing, Plain TCP server, JaCoCo remote, Immutable value objects |
| Logging & Configuration | Centralized logging and build/runtime config | log4j2.xml (INFO console appender); gradle tasks (apprun, tests, CI); web.xml (servlet/JSP config) | All modules | SLF4J API + Log4j2, Gradle/Gretty, Servlet 2.4 descriptors |
| Testing & Quality Pipeline | Automated unit/integration/BDD/API/UI/perf/security tests; coverage & mutation; CI orchestration | JUnit 4/5, Mockito; Cucumber/Behave; Selenium/WebDriver, HtmlUnit, Selenified; PyTest (API); JMeter; SonarQube; OWASP DependencyCheck; JaCoCo, Pitest; Jenkinsfile stages (build, tests, analysis, perf, security) | All runtime components/endpoints; ZAP proxy; H2 datasets (backup/restore) | Jenkins CI, ZAP proxy, Test frameworks, Coverage/mutation tools, SonarQube |