| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Web UI (library.html, endpointcatalog.html, JS) | Server-side rendered UI with dynamic client behavior (autocomplete, dropdowns, AJAX calls) | Pages: /demo/index.html, /demo/library.html, /demo/endpointcatalog.html; JS: library.js (addAutoComplete, addDropdown, talk), catalog.js (XHR form posting) | Authentication Service; Library Service; Mathematics Service | HTML/CSS/JS, XMLHttpRequest, DOM, progressive enhancement, simple client-side MVC patterns |
| Authentication Service (LoginServlet, RegisterServlet, LoginUtils, RegistrationUtils) | Register and authenticate librarians; enforce password quality | Endpoints: POST /demo/register, POST /demo/login; Core methods: RegistrationUtils.processRegistration, LoginUtils.isUserRegistered, RegistrationUtils.isPasswordGood | Persistence Layer; Helpers; Domain Model | Java Servlets (Jakarta/Javax), SLF4J, Nbvcxz (password entropy), DTOs, service/utility pattern |
| Library Service (LibraryUtils, Library*Servlets) | Manage books, borrowers, and lending; list/search resources | Endpoints: POST /demo/registerbook, POST /demo/registerborrower, POST /demo/lend, GET /demo/book, GET /demo/borrower, GET /demo/listavailable; Core methods: LibraryUtils.registerBook/registerBorrower/lendBook/search*/list* | Persistence Layer; Helpers; Domain Model | Java Servlets, SLF4J, business-service pattern, immutable DTOs |
| Mathematics Service (MathServlet, FibServlet, AckServlet, Calculator, Fibonacci, Ackermann) | Demonstration math endpoints (add, Fibonacci, Ackermann) | Endpoints: POST /demo/math, POST /demo/fibonacci, POST /demo/ackermann; Core methods: Calculator.add, Fibonacci.calculate/fibAlgo1/fibAlgo2, Ackermann.calculate | Helpers | Java Servlets, SLF4J, recursion and tail-recursion patterns |
| Persistence Layer (IPersistenceLayer, PersistenceLayer, SqlData, DbServlet) | Data access for auth and library; DB migration/backup/restore | Programmatic API: IPersistenceLayer (save/search/update/delete/list, areCredentialsValid, migrate/clean/backup/restore); Endpoint: GET /demo/flyway?action=(clean|migrate|) | Domain Model; Helpers | H2 (JDBC), Flyway, micro-ORM (SqlData/ParameterObject), JDBC template-like helpers, Optional API, SHA-256 hashing |
| Domain Model (authentication.domainobjects, library.domainobjects) | Immutable value objects for business data | Types: User, RegistrationResult/Status, PasswordResult/Enums; Book, Borrower, Loan, LibraryActionResults | — | Immutable DTOs, equals/hashCode/toString (Apache Commons Lang), JSON-friendly output methods |
| Helpers (StringUtils, ServletUtils, CheckUtils) | Cross-cutting utilities (string null-safety/JSON escaping, servlet forwarding, argument validation) | Methods: StringUtils.makeNotNullable/escapeForJson; ServletUtils.forwardToResult/forwardToRestfulResult; CheckUtils.StringMustNotBeNullOrEmpty/IntParameterMustBePositive/mustBeTrueAtThisPoint | Web/UI components; All services | SLF4J (via callers), Log4j2 JSON utils, defensive programming/invariant checks |
| Tomcat Bootstrap & Console (WebAppListener, web.xml) | App startup tasks and H2 console exposure | Listener: WebAppListener.contextInitialized (cleanAndMigrateDatabase); Console mapping: /demo/console/* | Persistence Layer | ServletContextListener, H2 Web Console, deployment descriptor (web.xml) |
| Desktop AutoInsurance App (Swing UI, Script Server, Processor) | Demo desktop UI with automation socket server; business rules for premiums/warnings | UI main: AutoInsuranceUI.main; Socket server on port 8000 with commands: set/get (label|age|claims), click calculate, quit; Core method: AutoInsuranceProcessor.process | — | Java Swing, SLF4J, simple protocol over TCP sockets, Jacoco remote client (ExecutionDataClient) |
| API Tests (src/api_tests with pytest/requests) | Black-box API verification of math/auth/library flows | test_api.py driving endpoints: /demo/math, /demo/register, /demo/login, /demo/registerbook, /demo/registerborrower, /demo/lend, /demo/flyway | Web UI/Services (running app) | Python, pytest, requests; test-first/API-contract mindset |
| UI BDD Tests (Behave + Selenium) | High-level UI behavior specs and execution | Features under src/ui_tests/behave; Steps automate library.html forms via Selenium; Env supports optional proxy (ZAP) | Web UI; Authentication/Library Services | Behave (Gherkin), Selenium WebDriver (Chrome), optional ZAP proxy |
| UI Tests (Java Selenium/HtmlUnit/Selenified) | Cross-language UI suites covering flows and UX widgets | Java Selenium tests (SeleniumTests, HtmlUnitTests), SelenifiedSample (TestNG), uses ApiCalls helpers | Web UI/Services | Selenium WebDriver (Chrome), HtmlUnit (headless), WebDriverManager, Selenified, TestNG/JUnit |
| CI/CD Pipeline (jenkins/Jenkinsfile) | Orchestrates build, test, analysis, and reporting | Stages: Build, Unit Tests, Database Tests, BDD Tests, Static Analysis (SonarQube), Deploy to Test, API/UI tests, Security (DependencyCheck), Performance (JMeter), Mutation (Pitest), Docs, ZAP report, Deploy to Prod (noop) | Gradle tasks; SonarQube; ZAP; JMeter; App under test | Jenkins declarative pipeline, Gradle wrapper, SonarQube, OWASP DependencyCheck, JMeter, PIT, Jacoco, Post-build artifact links |