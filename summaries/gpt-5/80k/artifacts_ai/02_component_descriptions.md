| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Authentication (Servlets + Utils) | User registration and login, password policy enforcement, input validation | HTTP: POST /login, POST /register; Utils: LoginUtils.isUserRegistered, RegistrationUtils.processRegistration; Domain: RegistrationResult.toPrettyString | Persistence Layer; Cross-cutting Helpers; UI/JSP + Static Web | Java Servlets/JSP (Tomcat); nbvcxz password entropy; SLF4J/log4j2; manual JSP forwarding (ServletUtils); Optional semantics |
| Library (Servlets + Utils) | Manage books, borrowers, loans; listing/search; enforce lending invariants | HTTP: POST /registerbook, /registerborrower, /lend; GET /book, /listavailable, (GET /borrower implied); Utils: LibraryUtils register/lend/list/search methods | Persistence Layer; Cross-cutting Helpers; UI/JSP + Static Web | Java Servlets/JSP; JSON-ish manual serialization (toOutputString + StringUtils.escapeForJson); SLF4J/log4j2 |
| Mathematics (Servlets + Algorithms) | Stateless computations: add, Fibonacci, Ackermann | HTTP: POST /math, /fibonacci, /ackermann; Core: Calculator.add, Fibonacci.calculate/fibAlgo1/fibAlgo2, Ackermann/AckermannIterative, TailRecursive.tailie | Cross-cutting Helpers; UI/JSP + Static Web | Java Servlets/JSP; BigInteger; algorithm implementations (fast doubling, iterative, tail-recursive); Apache Commons Lang3 Pair |
| Persistence Layer (IPersistenceLayer + JDBC/ORM) | Data access for Auth and Library; micro ORM; password hashing; DB maintenance | API: IPersistenceLayer (saveNewUser, updateUserWithPassword, areCredentialsValid, saveNewBook/ Borrower, createLoan, list/search…); Admin: cleanDatabase, migrateDatabase, cleanAndMigrateDatabase, runBackup/runRestore | Auth domain types; Library domain types | H2 (JdbcConnectionPool); JDBC; Flyway; SHA-256 hashing; SqlData/ParameterObject templates; Null Object pattern (EmptyDataSource); Template-method-style query/insert/update helpers |
| Database Admin (DbServlet) | Operational control of Flyway from UI | HTTP: GET /flyway?action=clean|migrate|default → forwards to result.jsp | Persistence Layer; UI/JSP + Static Web | Java Servlet; Flyway integration; JSP forwarding with return_page |
| Web Bootstrap (WebAppListener) | Initialize app and database on startup | ServletContextListener: cleanAndMigrateDatabase() on context init | Persistence Layer | @WebListener (Tomcat); SLF4J/log4j2 |
| UI/JSP + Static Web | Present results and developer/test UIs; AJAX helpers | JSPs: result.jsp, restfulresult.jsp; Pages: index.html, library.html, endpointcatalog.html, dbhelp.html; JS: catalog.js, library.js (XHR talk, dynamic selects/autocomplete) | Consumed by Authentication, Library, Mathematics, Database Admin | JSP; HTML/CSS/JS (XHR); manual JSON-ish rendering; UTF-8; Gretty/Tomcat |
| Cross-cutting Helpers | Common utilities for forwarding, validation, string handling | ServletUtils.forwardToResult/forwardToRestfulResult; CheckUtils (not-null/empty, positive); StringUtils.makeNotNullable/escapeForJson; AssertionException | Used by Authentication, Library, Mathematics | SLF4J/log4j2 JsonUtils; utility patterns; exception-based validation |
| H2 Console (embedded) | Developer DB console exposure | HTTP: GET /console/* (org.h2.server.web.WebServlet, webAllowOthers=true) | H2 database | H2 Web Console; web.xml mapping |
| Desktop AutoInsurance App (Swing UI) | Demo desktop application for rules-based insurance premium decisions | Swing UI actions; AutoInsuranceProcessor rules; AutoInsuranceAction results | Desktop Automation Script Server (drives UI) | Java Swing; domain rules engine; immutable result object pattern |
| Desktop Automation Script Server | Drive the desktop UI via TCP for tests; expose simple scripting protocol | TCP localhost:8000; Commands: set label/age/claims, get label/age/claims, click calculate, quit | Desktop AutoInsurance App | Plain TCP socket server; text protocol; test utilities (AutoInsuranceScriptClient, DesktopTester); JaCoCo ExecutionDataClient integration |