| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On | Technologies |
| :--- | :--- | :--- | :--- | :--- |
| **Web Layer (Servlets)** | Handles all incoming HTTP requests, parses user input, delegates business operations to service layers, and manages the web response flow. | `/register`, `/login`, `/lendbook`, `/listbooks`, `/registerborrower`, `/fib`, `/ack`, `/math`, `/db` (HTTP POST/GET) | Business Logic Services (Library, Auth, Math), Utility Layer, Persistence Layer (for DbServlet) | Java Servlets, SLF4J, MVC-like pattern |
| **Library Management Service** | Encapsulates and orchestrates all core business logic for managing books, borrowers, and loans. Enforces library-specific business rules. | `LibraryUtils.registerBook()`, `LibraryUtils.registerBorrower()`, `LibraryUtils.lendBook()`, `LibraryUtils.listAvailableBooks()` | Persistence Layer, Domain Model (Library), Utility Layer | Service Layer Pattern, Dependency Inversion |
| **Authentication Service** | Manages user registration, performs robust password strength validation (entropy, crack time), and handles user login authentication. | `RegistrationUtils.registerUser()`, `RegistrationUtils.isPasswordGood()`, `LoginUtils.authenticateUser()` | Persistence Layer, Domain Model (Authentication), Utility Layer | Service Layer Pattern, Password Entropy Checking |
| **Educational Services Modules** | Provides self-contained educational demonstrations of various concepts: mathematical calculations (Fibonacci, Ackermann), set theory (Cartesian product), and expense tracking. | `Fibonacci.calculate()`, `Ackermann.calculate()`, `CartesianProduct.calculate()`, `AlcoholCalculator.calculate()` | Domain Model (Expenses) | `BigInteger`, Functional Programming (Tail Recursion), BDD (for definition) |
| **Persistence Layer** | Manages all direct database interactions (CRUD), database schema lifecycle (migration), and secure data handling (password hashing). | `IPersistenceLayer` methods: `saveNewBook()`, `searchForUserByName()`, `validateUser()`, `cleanAndMigrateDatabase()` | Domain Model (Library, Authentication) | JDBC, H2, Flyway, SQL, Data Access Object (DAO) Pattern, SHA-256 |
| **Domain Model** | Defines the core, immutable data structures (entities and value objects) that represent the application's domain concepts like books, users, loans, and operation results. | `Book`, `Borrower`, `Loan`, `User`, `RegistrationResult`, `PasswordResult` classes | None (foundational) | Domain-Driven Design (DDD), Immutability, Value Objects |
| **Application Lifecycle Manager** | Manages application startup and shutdown events, specifically ensuring the database is initialized to a clean and consistent state on startup. | `ServletContextListener` (`contextInitialized`, `contextDestroyed`) | Persistence Layer | Java EE Servlet Listener Pattern |
| **Utility Layer** | Provides reusable, cross-cutting helper functions for input validation, string manipulation, date calculations, and standardizing servlet dispatching. | `CheckUtils.isStringNotNullOrEmpty()`, `StringUtils.escapeForJson()`, `ServletUtils.forwardToResult()` | None (foundational) | Utility Class Pattern, Custom Exceptions |
| **Automated Testing Suites** | Ensures functional correctness and reliability of the entire application stack through unit, integration, UI, and behavior-driven tests. | JUnit (`@Test`), Cucumber (`Given`, `When`, `Then`), Selenium/Selenified UI interactions (`.click()`, `.type()`) | All other application components (as subjects under test) | JUnit, Mockito, Cucumber (BDD), Selenium, Selenified, HtmlUnit, TDD |
| **Auto Insurance Demo Module** | A self-contained educational module demonstrating a full application stack (UI, business logic, client-server) via an auto insurance underwriting simulation. | `AutoInsuranceProcessor.process()`, Swing UI interactions, `AutoInsuranceScriptClient` commands | None (self-contained) | Java Swing, Client-Server Architecture, Facade Pattern, Parameterized JUnit tests, JaCoCo |